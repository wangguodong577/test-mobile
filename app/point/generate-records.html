<ion-header-bar class="bar-stable nav-title-slide-ios7" align-title="center">
    <button class="button button-clear button-assertive button-back" ui-sref="membership-point">
        <i class="icon ion-ios-arrow-back"></i>
    </button>
    <h1 class="title">积分产生纪录</h1>
</ion-header-bar>

<ion-content scroll="true" id="generate-records">
	<ion-list>
		<div class="head-wrapper">
			<div class="current-point">{{availableScore ? availableScore : "暂无"}}</div>
		</div>
		<div class="generate-list-head">积分产生明细</div>
		<div class="generate-list">
			<div class="generate-item" ng-repeat="generateScore in generateScoreLogs">
				<div>
					<span class="generate-name">
						<span ng-if="generateScore.status === 1">完成购物</span>
						<span ng-if="generateScore.status === 2">分享朋友赚积分</span>
						<span ng-if="generateScore.status === 4">评价返积分</span>
					</span>
					<span class="generate-date">{{generateScore.createTime | date : "yyyy-MM-dd HH:mm"}}</span>
				</div>
				<div class="generate-text">
					<span ng-if="generateScore.status === 1">应收金额：&nbsp;{{generateScore.stockOut.amount | currency: "￥"}}</span>
					<span ng-if="generateScore.status === 2 || generateScore.status === 4">&nbsp;</span>
				</div>
				<div class="generate-text">
					<span ng-if="generateScore.status === 1">实收金额：&nbsp;{{generateScore.stockOut.receiveAmount | currency: "￥"}}</span>
					<span ng-if="generateScore.status === 2 || generateScore.status === 4">&nbsp;</span>
				</div>
				<div>
					<span class="generate-text">
						<span ng-if="generateScore.status === 1">订单号：&nbsp;{{generateScore.stockOut.orderId}}</span>
						<span ng-if="generateScore.status === 2">分享成功</span>
						<span ng-if="generateScore.status === 4">评价成功</span>
					</span>
					<span class="generate-point">+{{generateScore.integral}}积分</span>
				</div>
			</div>
		</div>
	</ion-list>

	<ion-infinite-scroll ng-if="moreDataCanBeLoaded" on-infinite="loadMore()" distance="5%"></ion-infinite-scroll>
</ion-content>

<div class="spinner-page" ng-if="showLoading === true">
    <div class="spinner-container container1">
        <div class="circle1"></div>
        <div class="circle2"></div>
        <div class="circle3"></div>
        <div class="circle4"></div>
    </div>
    <div class="spinner-container container2">
        <div class="circle1"></div>
        <div class="circle2"></div>
        <div class="circle3"></div>
        <div class="circle4"></div>
    </div>
    <div class="spinner-container container3">
        <div class="circle1"></div>
        <div class="circle2"></div>
        <div class="circle3"></div>
        <div class="circle4"></div>
    </div>

    <p>加载中...</p>
</div>